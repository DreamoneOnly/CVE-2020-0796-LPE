#pragma once



#include <WinSock2.h>
#include <WS2tcpip.h>
#include<windows.h>
#include <iostream>
#pragma comment(lib,"Ws2_32.lib")
#pragma comment(lib, "ntdll.lib")

extern "C"
{
#define STATUS_SUCCESS                   ((NTSTATUS)0x00000000L)    // ntsubauth

	NTSYSAPI
		NTSTATUS
		NTAPI
		RtlGetCompressionWorkSpaceSize(
			_In_ USHORT CompressionFormatAndEngine,
			_Out_ PULONG CompressBufferWorkSpaceSize,
			_Out_ PULONG CompressFragmentWorkSpaceSize);

	NTSYSAPI
		NTSTATUS
		NTAPI
		RtlCompressBuffer(
			_In_ USHORT CompressionFormatAndEngine,
			_In_reads_bytes_(UncompressedBufferSize) PUCHAR UncompressedBuffer,
			_In_ ULONG UncompressedBufferSize,
			_Out_writes_bytes_to_(CompressedBufferSize, *FinalCompressedSize) PUCHAR CompressedBuffer,
			_In_ ULONG CompressedBufferSize,
			_In_ ULONG UncompressedChunkSize,
			_Out_ PULONG FinalCompressedSize,
			_In_ PVOID WorkSpace);
}
